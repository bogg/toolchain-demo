{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "MicroServices Deploy Stage",
    "description": "Feb Demo Microservices GitHub Schema",
    "longDescription": "The GitHub Service allows you to create or use an existing GitHub repository to store your source code.",
    "type": "object",
    "properties": {
     "type": {
        "title": "Repository Type",
        "description": "Link to, fork, or clone an existing repository",
        "type": "string",
        "enum": [ "new", "fork", "clone", "link" ]
      },
      "repo_name": {
        "type": "string",
        "title": "New Repo name",
        "description": "The name to be used for your new repo."
      },
      "repo_url": {
        "type": "string",
        "title": "Source Repo URL",
        "description": "The URL of the source repo."
      },
      "has_issues": {
        "type": "boolean",
        "title": "Use GitHub Issues",
        "description": "Do you wish to enable GitHub Issues for your new project?"
      }
    },
    "required": ["catalog-api-repo_name", "catalog-api-repo_url", "orders-api-repo_name", "orders-api-repo_url", "ui-repo_name",  "ui-repo_url"],
    "form": [
      {
        "type": "validator",
        "url": "https://devops.stage1.ng.bluemix.net/devops/setup/bm-helper/custom_github_helper.html"
      },
      {
        "type": "selectfieldset",
        "key": "type",
        "title": "Repository type",
        "titleMap": {
          "new": "New",
          "fork": "Fork",
          "link": "Link",
          "clone": "Clone"
        },
        "items": [
          {
            "type": "section",
            "items": [
                "repo_name",
                "has_issues"
              ]
          },
          {
            "type": "section",
            "items": [
                "repo_url",
                "has_issues"
            ]
          },
          {
            "type": "section",
            "items": [
                "repo_name",
                "repo_url",
                "has_issues"
            ]
          },
          {
            "type": "section",
            "items": [
                "repo_url"
            ]
          }
        ]
      }
    ] 
}
